<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (version 1.7.0) on Sat Jun 09 20:24:33 CEST 2012 -->
<title>WindowScalingFactor (CADI API)</title>
<meta name="date" content="2012-06-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WindowScalingFactor (CADI API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/RelevantPrecinct.html" title="class in CADI.Common.LogicalTarget.JPEG2000"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html" target="_top">Frames</a></li>
<li><a href="WindowScalingFactor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">CADI.Common.LogicalTarget.JPEG2000</div>
<h2 title="Class WindowScalingFactor" class="title">Class WindowScalingFactor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>CADI.Common.LogicalTarget.JPEG2000.WindowScalingFactor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../CADI/Proxy/LogicalTarget/JPEG2000/ProxyWindowScalingFactor.html" title="class in CADI.Proxy.LogicalTarget.JPEG2000">ProxyWindowScalingFactor</a>, <a href="../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/ServerWindowScalingFactor.html" title="class in CADI.Server.LogicalTarget.JPEG2000.DeliveringModes">ServerWindowScalingFactor</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">WindowScalingFactor</span>
extends java.lang.Object</pre>
<div class="block">This class implements a delivery of data belonging to the requested WOI
 following a Window Scaling Factor (WSF) strategy. The WSF applies a
 weight to each precinct belonging to the WOI according to the percentage
 of pixels overlapped.
 <p>
 Further information about the Window Scaling Factor, see:
 Taubman, D. and Rosenbaum, R., "Rate-Distortion Optimized Interactive
 Browsing of JPEG2000 Images"
 and
 Lima, L. and Taubman, D. and Leonardi, R., "JPIP Proxy Server for
 remote browsing of JPEG2000 images"</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>1.0.1 2008/09/08

 <p>
 Usage example:<br>
 &nbsp; construct<br>
 &nbsp; runResponseParameters<br>
 &nbsp; runResponseData<br>
 &nbsp; getResponseViewWindow<br>
 &nbsp; getQuality<br>
 &nbsp; getJPIPMessageData<br>
 &nbsp; getEORReasonCode<br>, 1.0.6 2011/08/12</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Group on Interactive Coding of Images (GICI), Group on Interactive Coding of Images (GICI)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a></code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#actualViewWindow">actualViewWindow</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#align">align</a></strong></code>
<div class="block">Definition in <a href="../../../../CADI/Common/Network/JPIP/ServerControlField.html#align"><code>ServerControlField.align</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KCodestream.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KCodestream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#codestream">codestream</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#compressionSlopeThresholds">compressionSlopeThresholds</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#discardLevels">discardLevels</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#EORReasonCode">EORReasonCode</a></strong></code>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#EORReasonCode</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KLogicalTarget.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KLogicalTarget</a></code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#logicalTarget">logicalTarget</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#maximumResponseLength">maximumResponseLength</a></strong></code>
<div class="block">Definition in <a href="../../../../CADI/Common/Network/JPIP/DataLimitField.html#len"><code>DataLimitField.len</code></a></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#NUM_SLOPE_THRESHOLDS">NUM_SLOPE_THRESHOLDS</a></strong></code>
<div class="block">Number of resequenced quality layers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#quality">quality</a></strong></code>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#quality</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/RelevantPrecinct.html" title="class in CADI.Common.LogicalTarget.JPEG2000">RelevantPrecinct</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#relevantPrecincts">relevantPrecincts</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private float[]</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#resequencedSlopeThresholds">resequencedSlopeThresholds</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#responseLength">responseLength</a></strong></code>
<div class="block">It is a temporal attribute to accumulate the response length which is
 sending to the client.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a></code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#responseViewWindow">responseViewWindow</a></strong></code>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#responseViewWindow</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/PredictiveScalingFactors.html" title="class in CADI.Common.LogicalTarget.JPEG2000">PredictiveScalingFactors</a></code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#scalingFactors">scalingFactors</a></strong></code>
<div class="block">Addtional window scaling factors.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../CADI/Common/Cache/CacheModel.html" title="class in CADI.Common.Cache">CacheModel</a></code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#serverCache">serverCache</a></strong></code>
<div class="block">This attribute contains the cache data for the client.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#WindowScalingFactor()">WindowScalingFactor</a></strong>()</code>
<div class="block">Constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#WindowScalingFactor(CADI.Common.LogicalTarget.JPEG2000.JPEG2KLogicalTarget, CADI.Common.Cache.CacheModel, CADI.Common.LogicalTarget.JPEG2000.JPEG2KCodestream)">WindowScalingFactor</a></strong>(<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KLogicalTarget.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KLogicalTarget</a>&nbsp;logicalTarget,
                   <a href="../../../../CADI/Common/Cache/CacheModel.html" title="class in CADI.Common.Cache">CacheModel</a>&nbsp;serverCache,
                   <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KCodestream.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KCodestream</a>&nbsp;codestream)</code>
<div class="block">Constructor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#WindowScalingFactor(CADI.Common.LogicalTarget.JPEG2000.JPEG2KLogicalTarget, CADI.Common.Cache.CacheModel, CADI.Common.LogicalTarget.JPEG2000.JPEG2KCodestream, boolean)">WindowScalingFactor</a></strong>(<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KLogicalTarget.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KLogicalTarget</a>&nbsp;logicalTarget,
                   <a href="../../../../CADI/Common/Cache/CacheModel.html" title="class in CADI.Common.Cache">CacheModel</a>&nbsp;serverCache,
                   <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KCodestream.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KCodestream</a>&nbsp;codestream,
                   boolean&nbsp;align)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int[]</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#computeCompressionSlopeThresholds(CADI.Common.LogicalTarget.JPEG2000.Parameters.COMParameters, int)">computeCompressionSlopeThresholds</a></strong>(<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/Parameters/COMParameters.html" title="class in CADI.Common.LogicalTarget.JPEG2000.Parameters">COMParameters</a>&nbsp;comParameters,
                                 int&nbsp;numLayers)</code>
<div class="block">This method computes the compression slope thresholds used in the Window
 Scaling Factor algorithm.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static float[]</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#computeResequencedSlopeThresholds(int)">computeResequencedSlopeThresholds</a></strong>(int&nbsp;numSlopeThresholds)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#findRelevantPrecinctsResequencedLayers(CADI.Common.Network.JPIP.ViewWindowField)">findRelevantPrecinctsResequencedLayers</a></strong>(<a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a>&nbsp;actualViewWindow)</code>
<div class="block">This methods determines which precincts are relevant to the requested
 Window Of Interest.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#getEORReasonCode()">getEORReasonCode</a></strong>()</code>
<div class="block">Returns the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#EORReasonCode"><code>EORReasonCode</code></a> attribute.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#getQuality()">getQuality</a></strong>()</code>
<div class="block">Returns the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#quality"><code>quality</code></a> attribute.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a></code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#getResponseViewWindow()">getResponseViewWindow</a></strong>()</code>
<div class="block">Returns the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#responseViewWindow"><code>responseViewWindow</code></a> attribute.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#list(java.io.PrintStream)">list</a></strong>(java.io.PrintStream&nbsp;out)</code>
<div class="block">Prints this File Order Delivery out to the specified output stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#packetsSequencing()">packetsSequencing</a></strong>()</code>
<div class="block">This method performs the packet sequencing algorithm of the Window Scaling
 Factor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/RelevantPrecinct.html" title="class in CADI.Common.LogicalTarget.JPEG2000">RelevantPrecinct</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#runResponseData()">runResponseData</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/RelevantPrecinct.html" title="class in CADI.Common.LogicalTarget.JPEG2000">RelevantPrecinct</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#runResponseData(long)">runResponseData</a></strong>(long&nbsp;maximumResponseLength)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#runResponseParameters(CADI.Common.Network.JPIP.ViewWindowField)">runResponseParameters</a></strong>(<a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a>&nbsp;viewWindow)</code>
<div class="block">Calculates the WOI which will be sent to the client using a layers-based
 rate-distortion method (file is delivery in the same order that is is
 saved).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#setAditionalScalingFactors(CADI.Common.LogicalTarget.JPEG2000.PredictiveScalingFactors)">setAditionalScalingFactors</a></strong>(<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/PredictiveScalingFactors.html" title="class in CADI.Common.LogicalTarget.JPEG2000">PredictiveScalingFactors</a>&nbsp;scalingFactors)</code>
<div class="block">Sets the <code>#aditionSF</code> attribute.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#setAlign(boolean)">setAlign</a></strong>(boolean&nbsp;align)</code>
<div class="block">Sets the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#align"><code>align</code></a> attribute.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="responseViewWindow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>responseViewWindow</h4>
<pre>protected&nbsp;<a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a> responseViewWindow</pre>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#responseViewWindow</code>.</div>
</li>
</ul>
<a name="logicalTarget">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logicalTarget</h4>
<pre>protected&nbsp;<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KLogicalTarget.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KLogicalTarget</a> logicalTarget</pre>
</li>
</ul>
<a name="scalingFactors">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scalingFactors</h4>
<pre>protected&nbsp;<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/PredictiveScalingFactors.html" title="class in CADI.Common.LogicalTarget.JPEG2000">PredictiveScalingFactors</a> scalingFactors</pre>
<div class="block">Addtional window scaling factors.
 <p>
 Defines new scaling factors / weights to be applied. The <code>key</code>
 of the HashMap is the unique precinct identifier and the <code>value</code>
 is a real value in the range [0,1] with the weight.</div>
</li>
</ul>
<a name="serverCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverCache</h4>
<pre>protected&nbsp;<a href="../../../../CADI/Common/Cache/CacheModel.html" title="class in CADI.Common.Cache">CacheModel</a> serverCache</pre>
<div class="block">This attribute contains the cache data for the client.
 <p>
 This reference is passed from the</div>
</li>
</ul>
<a name="codestream">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codestream</h4>
<pre>protected&nbsp;<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KCodestream.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KCodestream</a> codestream</pre>
</li>
</ul>
<a name="quality">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quality</h4>
<pre>protected&nbsp;int quality</pre>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#quality</code>.</div>
</li>
</ul>
<a name="EORReasonCode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EORReasonCode</h4>
<pre>protected&nbsp;int EORReasonCode</pre>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#EORReasonCode</code>.</div>
</li>
</ul>
<a name="maximumResponseLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumResponseLength</h4>
<pre>protected&nbsp;long maximumResponseLength</pre>
<div class="block">Definition in <a href="../../../../CADI/Common/Network/JPIP/DataLimitField.html#len"><code>DataLimitField.len</code></a></div>
</li>
</ul>
<a name="align">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>align</h4>
<pre>protected&nbsp;boolean align</pre>
<div class="block">Definition in <a href="../../../../CADI/Common/Network/JPIP/ServerControlField.html#align"><code>ServerControlField.align</code></a>.</div>
</li>
</ul>
<a name="responseLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>responseLength</h4>
<pre>private&nbsp;long responseLength</pre>
<div class="block">It is a temporal attribute to accumulate the response length which is
 sending to the client.</div>
</li>
</ul>
<a name="discardLevels">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardLevels</h4>
<pre>private&nbsp;int discardLevels</pre>
</li>
</ul>
<a name="actualViewWindow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actualViewWindow</h4>
<pre>private&nbsp;<a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a> actualViewWindow</pre>
</li>
</ul>
<a name="relevantPrecincts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>relevantPrecincts</h4>
<pre>private&nbsp;java.util.ArrayList&lt;<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/RelevantPrecinct.html" title="class in CADI.Common.LogicalTarget.JPEG2000">RelevantPrecinct</a>&gt; relevantPrecincts</pre>
</li>
</ul>
<a name="compressionSlopeThresholds">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compressionSlopeThresholds</h4>
<pre>private&nbsp;int[] compressionSlopeThresholds</pre>
</li>
</ul>
<a name="resequencedSlopeThresholds">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resequencedSlopeThresholds</h4>
<pre>private&nbsp;float[] resequencedSlopeThresholds</pre>
</li>
</ul>
<a name="NUM_SLOPE_THRESHOLDS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NUM_SLOPE_THRESHOLDS</h4>
<pre>private static final&nbsp;int NUM_SLOPE_THRESHOLDS</pre>
<div class="block">Number of resequenced quality layers.
 <p>
 The paper says that "the number of resequenced layers must generally be
 larger than the number of original code-stream layers", therefore, the
 number of resequenced layers must be an image dependent value.
 <p>
 In this case, the maximum number of resequenced layer has been set to a
 fixed value but it will be changed in the next revision.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#CADI.Common.LogicalTarget.JPEG2000.WindowScalingFactor.NUM_SLOPE_THRESHOLDS">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="WindowScalingFactor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WindowScalingFactor</h4>
<pre>public&nbsp;WindowScalingFactor()</pre>
<div class="block">Constructor.
 <p>
 NOTE: Use of this constructor is discouraged, and it only be used by
 classes that extend this one.</div>
</li>
</ul>
<a name="WindowScalingFactor(CADI.Common.LogicalTarget.JPEG2000.JPEG2KLogicalTarget, CADI.Common.Cache.CacheModel, CADI.Common.LogicalTarget.JPEG2000.JPEG2KCodestream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WindowScalingFactor</h4>
<pre>public&nbsp;WindowScalingFactor(<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KLogicalTarget.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KLogicalTarget</a>&nbsp;logicalTarget,
                   <a href="../../../../CADI/Common/Cache/CacheModel.html" title="class in CADI.Common.Cache">CacheModel</a>&nbsp;serverCache,
                   <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KCodestream.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KCodestream</a>&nbsp;codestream)</pre>
<div class="block">Constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>codestream</code> - definition in <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#codestream"><code>codestream</code></a>.</dd><dd><code>serverCache</code> - </dd><dd><code>codestream</code> - </dd></dl>
</li>
</ul>
<a name="WindowScalingFactor(CADI.Common.LogicalTarget.JPEG2000.JPEG2KLogicalTarget, CADI.Common.Cache.CacheModel, CADI.Common.LogicalTarget.JPEG2000.JPEG2KCodestream, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WindowScalingFactor</h4>
<pre>public&nbsp;WindowScalingFactor(<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KLogicalTarget.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KLogicalTarget</a>&nbsp;logicalTarget,
                   <a href="../../../../CADI/Common/Cache/CacheModel.html" title="class in CADI.Common.Cache">CacheModel</a>&nbsp;serverCache,
                   <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/JPEG2KCodestream.html" title="class in CADI.Common.LogicalTarget.JPEG2000">JPEG2KCodestream</a>&nbsp;codestream,
                   boolean&nbsp;align)</pre>
<div class="block">Constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>codestream</code> - definition in <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#codestream"><code>codestream</code></a>.</dd><dd><code>serverCache</code> - </dd><dd><code>codestream</code> - </dd><dd><code>align</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setAditionalScalingFactors(CADI.Common.LogicalTarget.JPEG2000.PredictiveScalingFactors)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAditionalScalingFactors</h4>
<pre>public&nbsp;void&nbsp;setAditionalScalingFactors(<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/PredictiveScalingFactors.html" title="class in CADI.Common.LogicalTarget.JPEG2000">PredictiveScalingFactors</a>&nbsp;scalingFactors)</pre>
<div class="block">Sets the <code>#aditionSF</code> attribute.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aditionalSF</code> - definition in <code>#aditionalSF</code>.</dd></dl>
</li>
</ul>
<a name="runResponseParameters(CADI.Common.Network.JPIP.ViewWindowField)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runResponseParameters</h4>
<pre>public&nbsp;void&nbsp;runResponseParameters(<a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a>&nbsp;viewWindow)
                           throws ErrorException</pre>
<div class="block">Calculates the WOI which will be sent to the client using a layers-based
 rate-distortion method (file is delivery in the same order that is is
 saved).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>viewWindow</code> - the requested Window Of Interest</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="runResponseData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runResponseData</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/RelevantPrecinct.html" title="class in CADI.Common.LogicalTarget.JPEG2000">RelevantPrecinct</a>&gt;&nbsp;runResponseData()
                                                      throws ErrorException</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="runResponseData(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runResponseData</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/RelevantPrecinct.html" title="class in CADI.Common.LogicalTarget.JPEG2000">RelevantPrecinct</a>&gt;&nbsp;runResponseData(long&nbsp;maximumResponseLength)
                                                      throws ErrorException</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>maximumResponseLength</code> - definition in <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#maximumResponseLength"><code>maximumResponseLength</code></a></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="setAlign(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAlign</h4>
<pre>public final&nbsp;void&nbsp;setAlign(boolean&nbsp;align)</pre>
<div class="block">Sets the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#align"><code>align</code></a> attribute.</div>
</li>
</ul>
<a name="getEORReasonCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEORReasonCode</h4>
<pre>public final&nbsp;int&nbsp;getEORReasonCode()</pre>
<div class="block">Returns the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#EORReasonCode"><code>EORReasonCode</code></a> attribute.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#EORReasonCode"><code>EORReasonCode</code></a> attribute.</dd></dl>
</li>
</ul>
<a name="getResponseViewWindow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResponseViewWindow</h4>
<pre>public final&nbsp;<a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a>&nbsp;getResponseViewWindow()</pre>
<div class="block">Returns the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#responseViewWindow"><code>responseViewWindow</code></a> attribute.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#responseViewWindow"><code>responseViewWindow</code></a> attribute.</dd></dl>
</li>
</ul>
<a name="getQuality()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQuality</h4>
<pre>public final&nbsp;int&nbsp;getQuality()</pre>
<div class="block">Returns the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#quality"><code>quality</code></a> attribute.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the <a href="../../../../CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html#quality"><code>quality</code></a> attribute.</dd></dl>
</li>
</ul>
<a name="computeResequencedSlopeThresholds(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeResequencedSlopeThresholds</h4>
<pre>public static&nbsp;float[]&nbsp;computeResequencedSlopeThresholds(int&nbsp;numSlopeThresholds)</pre>
</li>
</ul>
<a name="computeCompressionSlopeThresholds(CADI.Common.LogicalTarget.JPEG2000.Parameters.COMParameters, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeCompressionSlopeThresholds</h4>
<pre>public static&nbsp;int[]&nbsp;computeCompressionSlopeThresholds(<a href="../../../../CADI/Common/LogicalTarget/JPEG2000/Parameters/COMParameters.html" title="class in CADI.Common.LogicalTarget.JPEG2000.Parameters">COMParameters</a>&nbsp;comParameters,
                                      int&nbsp;numLayers)</pre>
<div class="block">This method computes the compression slope thresholds used in the Window
 Scaling Factor algorithm.
 <p>
 If thresholds have been saved in the codestream main header's COM marker,
 their values are used. Otherwise, a log function is used to compute their
 values.</div>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="list(java.io.PrintStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>list</h4>
<pre>public&nbsp;void&nbsp;list(java.io.PrintStream&nbsp;out)</pre>
<div class="block">Prints this File Order Delivery out to the specified output stream.
 This method is useful for debugging.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - an output stream.</dd></dl>
</li>
</ul>
<a name="findRelevantPrecinctsResequencedLayers(CADI.Common.Network.JPIP.ViewWindowField)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findRelevantPrecinctsResequencedLayers</h4>
<pre>private&nbsp;void&nbsp;findRelevantPrecinctsResequencedLayers(<a href="../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a>&nbsp;actualViewWindow)</pre>
<div class="block">This methods determines which precincts are relevant to the requested
 Window Of Interest.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>actualViewWindow</code> - </dd></dl>
</li>
</ul>
<a name="packetsSequencing()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>packetsSequencing</h4>
<pre>protected&nbsp;void&nbsp;packetsSequencing()</pre>
<div class="block">This method performs the packet sequencing algorithm of the Window Scaling
 Factor.
 <p>
 Brief explanation of the algorithm: the main loop goes through the weighted
 slope thresholds and a nested loop through the list of relevant precincts.
 On each iteration of the main loop, a candidate to be the next threshold is
 searched among all the relevant precincts. The chosen candidate is the
 precinct which has the greater weighted threshold value for the next layer
 of the precinct to be considered.
 <p>
 In each main loop iteration, only those packets with a weighted slope
 threshold greater than the loop weighted threshold are considered to be
 delivered to clients.
 <p>
 An exception to this statement is done for the first quality layers. They
 are prioritized without taken into account the weighted threshold at the
 beginning of the algorithm. The maximum number of quality layers
 prioritized is set up by the MAX_PREEMPTED_LAYERS variable, and the
 preemptedLayers controls which layer is being prioritized.
 OBS: the idea of prioritizing the first quality layers is based on the
 assumption that information saved in the first layers have a great
 contribution in the decoding process. The question about how many layers
 prioritize depends on the image nature and the compression parameterization.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../CADI/Common/LogicalTarget/JPEG2000/RelevantPrecinct.html" title="class in CADI.Common.LogicalTarget.JPEG2000"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?CADI/Common/LogicalTarget/JPEG2000/WindowScalingFactor.html" target="_top">Frames</a></li>
<li><a href="WindowScalingFactor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
				
					<i>CADI - Copyright (C) 2007</i><br>
					This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.<br>
					This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License</a> for more details.<br><br>
					<a href="http://www.gici.uab.es">Group on Interactive Coding of Images (GICI)</a> (<a href="mailto:gici-info@abra.uab.es">contact</a>)
				
			</small></p>
</body>
</html>
