<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (version 1.7.0) on Sat Jun 09 20:24:32 CEST 2012 -->
<title>CPIDelivery (CADI API)</title>
<meta name="date" content="2012-06-09">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CPIDelivery (CADI API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CoRDDelivery.html" title="class in CADI.Server.LogicalTarget.JPEG2000.DeliveringModes"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/FileOrderDelivery.html" title="class in CADI.Server.LogicalTarget.JPEG2000.DeliveringModes"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html" target="_top">Frames</a></li>
<li><a href="CPIDelivery.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">CADI.Server.LogicalTarget.JPEG2000.DeliveringModes</div>
<h2 title="Class CPIDelivery" class="title">Class CPIDelivery</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>CADI.Server.LogicalTarget.JPEG2000.DeliveringModes.CPIDelivery</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">CPIDelivery</span>
extends java.lang.Object</pre>
<div class="block">This class implements the Coding Passes Interleaving (CPI) rate-distortion
 method.
 <p>
 Four CPI approaches have been developed:<br>
 <dl>
 <dt>PACKET PER PRECINCT</dt>
 <dd>This approach delivery the requested window of interest using only one
                packet per precinct. Therefore, the served image only has one quality
                layer. See <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#deliverOnePacketPerPrecinct()"><code>deliverOnePacketPerPrecinct()</code></a> method. 
 
 <dt>PACKET PER BIT-PLANE</dt>
 <dd>This approach delivery the requested window of interest building one
                packet per bit-plane. Therefore, the served served image has as quality
                layers as number of bit-planes.
                See <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#deliverOnePacketPerBitPlane()"><code>deliverOnePacketPerBitPlane()</code></a> method.
  
 <dt>PACKET PER CODING PASS</dt>
 <dd>This approach delivery the requested window of interest building one
                packet per coding pass. Therefore, the served served image has as
                quality layers as number of coding passes (3 * bit-planes + 1).
                See <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#deliverOnePacketPerCodingPass()"><code>deliverOnePacketPerCodingPass()</code></a> method.
 
 <dt>SCALE</dt>
 <dd>This approach delivery the requested window of interest following the
                the SCALE rate-distortion method, where the MRP and CP coding passes
                are joined in the same packet. Therefore, the served served image has
                ((K * 2) - 1) quality layers (where K = number of bit-planes).
                See <code>#getResponseScale()</code> method.
 
 </dl>

 Moreover, for each CPI approach two complementary alternatives may be
 applied, individualy or combined:
 <dl>
 <dt>APPLY_SUBBAND_WEIGHTS</dt>
 <dd>
 <dt>PRECINCT_REORDERING</dt>
 <dd>Performs a reordering of the precincts at the same coding level and
        resolution level. Packets are rearranged in increasing packet's lengths.
 <dt>PRECINCT_REORDERING_RLEVEL</dt>
 <dd>Performs a reordering of the precincts at the same coding level. Packets
        are rearranged in increasing packet's lengths.
 <dl>

 <p>
 Usage example:<br>
 &nbsp; construct<br>
 &nbsp; runResponseParameters<br>
 &nbsp; getResponseViewWindow<br>
 &nbsp; getQuality<br>
 &nbsp; runResponseData<br>
 &nbsp; getJPIPMessageData<br>
 &nbsp; getEORReasonCode<br></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>2.0.0 2009/04/13</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Group on Interactive Coding of Images (GICI)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#actualViewWindow">actualViewWindow</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#APPLY_SUBBAND_WEIGHTS">APPLY_SUBBAND_WEIGHTS</a></strong></code>
<div class="block">Indicates if a subband weight must be applied.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/ServerJPEG2KCodestream.html" title="class in CADI.Server.LogicalTarget.JPEG2000">ServerJPEG2KCodestream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#codestream">codestream</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/ServerJPEG2KComponent.html" title="class in CADI.Server.LogicalTarget.JPEG2000">ServerJPEG2KComponent</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#compObj">compObj</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#cpiType">cpiType</a></strong></code>
<div class="block">Indicates which type of CPI will be used to deliver images.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#discardLevels">discardLevels</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#EORReasonCode">EORReasonCode</a></strong></code>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#EORReasonCode</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#layers">layers</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/JP2KServerLogicalTarget.html" title="class in CADI.Server.LogicalTarget.JPEG2000">JP2KServerLogicalTarget</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#logicalTarget">logicalTarget</a></strong></code>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#EORReasonCode</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#mainHeader">mainHeader</a></strong></code>
<div class="block">Contains the encoded main header.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#maximumResponseLength">maximumResponseLength</a></strong></code>
<div class="block">Definition in <a href="../../../../../CADI/Common/Network/JPIP/DataLimitField.html#len"><code>DataLimitField.len</code></a></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#maxNumLayers">maxNumLayers</a></strong></code>
<div class="block">Definition in <a href="../../../../../CADI/Common/LogicalTarget/JPEG2000/Parameters/CODParameters.html#numLayers"><code>CODParameters.numLayers</code></a></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#MSBPlane">MSBPlane</a></strong></code>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.JPEG2000.JP2LogicalTarget#MSBPlane</code></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#PACKET_PER_BIT_PLANE">PACKET_PER_BIT_PLANE</a></strong></code>
<div class="block">This CPI tye delivery the image's window of interest by bit planes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#PACKET_PER_CODING_PASS">PACKET_PER_CODING_PASS</a></strong></code>
<div class="block">This CPI type delivery the image's window of interest building a layer
 for each coding pass.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#PACKET_PER_PRECINCT">PACKET_PER_PRECINCT</a></strong></code>
<div class="block">This CPI tye delivery the image's window of interest building only one
 packet, i.e., all coding passes of a precinct are grouped in one packet.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#quality">quality</a></strong></code>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#quality</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;<a href="../../../../../CADI/Server/Core/ResponseData.html" title="class in CADI.Server.Core">ResponseData</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#responseDataList">responseDataList</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#responseLength">responseLength</a></strong></code>
<div class="block">It is a temporal attribute to accumulate the response length which is
 sending to the client.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#responseViewWindow">responseViewWindow</a></strong></code>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#responseViewWindow</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#SCALE">SCALE</a></strong></code>
<div class="block">This CPI type delivery the image's window of interest following the
 SCALE method:
 l = L - 1 - ((c div 3) * 2)- ((c mod 3) div 2)
 where:
 L = (K * 2) - 1
 K = number of bit-planes
 
 It can be uses when the request belongs to a session or with stateless
 request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../CADI/Server/Cache/ServerCacheModel.html" title="class in CADI.Server.Cache">ServerCacheModel</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#serverCache">serverCache</a></strong></code>
<div class="block">This attribute contains the cache data for the client.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/ServerJPEG2KTile.html" title="class in CADI.Server.LogicalTarget.JPEG2000">ServerJPEG2KTile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#tileObj">tileObj</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#CPIDelivery(CADI.Server.LogicalTarget.JPEG2000.JP2KServerLogicalTarget, CADI.Server.Cache.ServerCacheModel)">CPIDelivery</a></strong>(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/JP2KServerLogicalTarget.html" title="class in CADI.Server.LogicalTarget.JPEG2000">JP2KServerLogicalTarget</a>&nbsp;logicalTarget,
           <a href="../../../../../CADI/Server/Cache/ServerCacheModel.html" title="class in CADI.Server.Cache">ServerCacheModel</a>&nbsp;serverCache)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#CPIDelivery(CADI.Server.LogicalTarget.JPEG2000.JP2KServerLogicalTarget, CADI.Server.Cache.ServerCacheModel, boolean)">CPIDelivery</a></strong>(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/JP2KServerLogicalTarget.html" title="class in CADI.Server.LogicalTarget.JPEG2000">JP2KServerLogicalTarget</a>&nbsp;logicalTarget,
           <a href="../../../../../CADI/Server/Cache/ServerCacheModel.html" title="class in CADI.Server.Cache">ServerCacheModel</a>&nbsp;serverCache,
           boolean&nbsp;align)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#deliverOnePacketPerBitPlane()">deliverOnePacketPerBitPlane</a></strong>()</code>
<div class="block">This method is used to deliver the requested window of interes using
 only one packet per bit-plane.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#deliverOnePacketPerCodingPass()">deliverOnePacketPerCodingPass</a></strong>()</code>
<div class="block">This method is used to deliver the requested window of interes using
 only one packet per coding pass.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#deliverOnePacketPerPrecinct()">deliverOnePacketPerPrecinct</a></strong>()</code>
<div class="block">This method is used to deliver the requested window of interes using
 only one packet per precinct.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#deliverScale()">deliverScale</a></strong>()</code>
<div class="block">This method is used to delivery the requested window of interes using
 SCALE method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#encodeMainHeader()">encodeMainHeader</a></strong>()</code>
<div class="block">Gets the main header as a byte array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getEORReasonCode()">getEORReasonCode</a></strong>()</code>
<div class="block">Returns the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#EORReasonCode"><code>EORReasonCode</code></a> attribute.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getLayer(int)">getLayer</a></strong>(int&nbsp;codingLevel)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getMainHeader()">getMainHeader</a></strong>()</code>
<div class="block">Returns the main header.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getMaxNumLayers(int)">getMaxNumLayers</a></strong>(int&nbsp;cpiType)</code>
<div class="block">Gets the maximum number of layers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getMaxSubbandWeight()">getMaxSubbandWeight</a></strong>()</code>
<div class="block">Calculate which is the maximum subband weight for the whole image.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getNextCodingLevel(int)">getNextCodingLevel</a></strong>(int&nbsp;codingLevel)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getPacketHeaderOnePacketPerBitPlane(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int, int, int[][][][])">getPacketHeaderOnePacketPerBitPlane</a></strong>(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeading,
                                   long&nbsp;inClassIdentifier,
                                   int&nbsp;tile,
                                   int&nbsp;z,
                                   int&nbsp;rLevel,
                                   int&nbsp;virtualBitPlane,
                                   int&nbsp;totalNumVirtualBitPlanes,
                                   int[][][][]&nbsp;codingPassesLengths)</code>
<div class="block">Builds a packet header using one packet per bit plane
 
 It is an auxiliary method used by <code>#getResponseOnePacketPerBitPlane()</code>
 method to build the packet headers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getPacketHeaderOnePacketPerCodingPass(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int, int[][][][])">getPacketHeaderOnePacketPerCodingPass</a></strong>(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeadersEncoder,
                                     long&nbsp;inClassIdentifier,
                                     int&nbsp;tile,
                                     int&nbsp;z,
                                     int&nbsp;rLevel,
                                     int&nbsp;realCodingLevel,
                                     int[][][][]&nbsp;codingPassesLengths)</code>
<div class="block">Builds a packet header for a specific coding level.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getPacketHeaderScale(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int, int, int[][][][])">getPacketHeaderScale</a></strong>(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeading,
                    long&nbsp;inClassIdentifier,
                    int&nbsp;tile,
                    int&nbsp;z,
                    int&nbsp;rLevel,
                    int&nbsp;totalNumVirtualCodingLevels,
                    int&nbsp;virtualCodingLevel,
                    int[][][][]&nbsp;codingPassesLengths)</code>
<div class="block">Builds a packet header for a specific coding level.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getQuality()">getQuality</a></strong>()</code>
<div class="block">Returns the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#quality"><code>quality</code></a> attribute.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../../CADI/Server/Core/ResponseData.html" title="class in CADI.Server.Core">ResponseData</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getResponseData()">getResponseData</a></strong>()</code>
<div class="block">Returns the <code>#jpipMessageHeaders</code> attribute.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getResponseViewWindow()">getResponseViewWindow</a></strong>()</code>
<div class="block">Returns the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#responseViewWindow"><code>responseViewWindow</code></a> attribute.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#getSubbandWeight(int, int, int, int)">getSubbandWeight</a></strong>(int&nbsp;tile,
                int&nbsp;z,
                int&nbsp;rLevel,
                int&nbsp;subband)</code>
<div class="block">Returns the subband weight for a component, resolution level, and subband.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#isMRP(int)">isMRP</a></strong>(int&nbsp;codingLevel)</code>
<div class="block">Check whether a coding level is or not a MRP pass.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#list(java.io.PrintStream)">list</a></strong>(java.io.PrintStream&nbsp;out)</code>
<div class="block">Prints this CPI delivery out to the specified output stream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#printByteArray(byte[])">printByteArray</a></strong>(byte[]&nbsp;buffer)</code>
<div class="block">Useful method for printing a byte array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#printTypeOfCodingPass(int)">printTypeOfCodingPass</a></strong>(int&nbsp;codingLevel)</code>
<div class="block">Useful to print which is the type of each coding level.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#runResponseData(java.util.ArrayList, long)">runResponseData</a></strong>(java.util.ArrayList&lt;<a href="../../../../../CADI/Server/Core/ResponseData.html" title="class in CADI.Server.Core">ResponseData</a>&gt;&nbsp;responseDataList,
               long&nbsp;maximumResponseLength)</code>
<div class="block">Gets the data of the response window of interes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#runResponseParameters(CADI.Common.Network.JPIP.ViewWindowField)">runResponseParameters</a></strong>(<a href="../../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a>&nbsp;viewWindow)</code>
<div class="block">Calculates the WOI which will be sent to the client using a layers-based
 rate-distortion method (file is delivery in the same order that is is
 saved).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#setCPIType(int)">setCPIType</a></strong>(int&nbsp;cpiType)</code>
<div class="block">Set the subtype of the CPI.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#setFirstLayerOnePacketPerBitPlane(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int[][][][])">setFirstLayerOnePacketPerBitPlane</a></strong>(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeading,
                                 long&nbsp;inClassIdentifier,
                                 int&nbsp;tile,
                                 int&nbsp;z,
                                 int&nbsp;rLevel,
                                 int[][][][]&nbsp;codingPassesLengths)</code>
<div class="block">This method adjusts the first layer when requested window of interest is
 delivered using one packet per bit plane.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#setFirstLayerScale(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int[][][][], int)">setFirstLayerScale</a></strong>(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeading,
                  long&nbsp;inClassIdentifier,
                  int&nbsp;tile,
                  int&nbsp;z,
                  int&nbsp;rLevel,
                  int[][][][]&nbsp;codingPassesLengths,
                  int&nbsp;totalNumVirtualCodingLevels)</code>
<div class="block">This method adjusts the first layer when requested window of interest is
 delivered using the SCALE method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#skipPrecinctScale(long, int, int, int, int, int, int[][][][])">skipPrecinctScale</a></strong>(long&nbsp;inClassIdentifier,
                 int&nbsp;tile,
                 int&nbsp;z,
                 int&nbsp;rLevel,
                 int&nbsp;totalNumVirtualCodingLevels,
                 int&nbsp;virtualCodingLevel,
                 int[][][][]&nbsp;codingPassesLengths)</code>
<div class="block">Check if a precinct has to be, or not, included in a fixed coding level.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="codestream">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codestream</h4>
<pre>private&nbsp;<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/ServerJPEG2KCodestream.html" title="class in CADI.Server.LogicalTarget.JPEG2000">ServerJPEG2KCodestream</a> codestream</pre>
</li>
</ul>
<a name="responseDataList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>responseDataList</h4>
<pre>private&nbsp;java.util.ArrayList&lt;<a href="../../../../../CADI/Server/Core/ResponseData.html" title="class in CADI.Server.Core">ResponseData</a>&gt; responseDataList</pre>
</li>
</ul>
<a name="mainHeader">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mainHeader</h4>
<pre>private&nbsp;byte[] mainHeader</pre>
<div class="block">Contains the encoded main header.</div>
</li>
</ul>
<a name="responseViewWindow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>responseViewWindow</h4>
<pre>private&nbsp;<a href="../../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a> responseViewWindow</pre>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#responseViewWindow</code>.</div>
</li>
</ul>
<a name="quality">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>quality</h4>
<pre>private&nbsp;int quality</pre>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#quality</code>.</div>
</li>
</ul>
<a name="EORReasonCode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EORReasonCode</h4>
<pre>private&nbsp;int EORReasonCode</pre>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#EORReasonCode</code>.</div>
</li>
</ul>
<a name="logicalTarget">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logicalTarget</h4>
<pre>private&nbsp;<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/JP2KServerLogicalTarget.html" title="class in CADI.Server.LogicalTarget.JPEG2000">JP2KServerLogicalTarget</a> logicalTarget</pre>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.ServerLogicalTargetManager#EORReasonCode</code>.</div>
</li>
</ul>
<a name="serverCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverCache</h4>
<pre>private&nbsp;<a href="../../../../../CADI/Server/Cache/ServerCacheModel.html" title="class in CADI.Server.Cache">ServerCacheModel</a> serverCache</pre>
<div class="block">This attribute contains the cache data for the client.
 <p>
 This reference is passed from the</div>
</li>
</ul>
<a name="maximumResponseLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumResponseLength</h4>
<pre>private&nbsp;long maximumResponseLength</pre>
<div class="block">Definition in <a href="../../../../../CADI/Common/Network/JPIP/DataLimitField.html#len"><code>DataLimitField.len</code></a></div>
</li>
</ul>
<a name="cpiType">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cpiType</h4>
<pre>private&nbsp;int cpiType</pre>
<div class="block">Indicates which type of CPI will be used to deliver images.
 <p>
 Allowed values:
 <lu>
        <li>1- Only one packet for each precinct is generated. Therefore, delivered image has only one quality layer.
    <li>2- Creates one packet per each bit plane. Therefore, delivered image has as quality layers as number of bit planes.
    <li>3- Creates one packet per each coding pass. Therefore, delivered image has as quality layers as number of coding passes.
    <li>4- Images are delivered following the SCALE method.
    <li>11- Is based on option 1 but precincts within each resolution level at the same coding pass are sorted.
    <li>12- Is based on option 2 but precincts within each resolution level at the same coding pass are sorted.
    <li>13- Is based on option 3 but precincts within each resolution level at the same coding pass are sorted.
    <li>14- Is based on option 4 but precincts within each resolution level at the same coding pass are sorted.
    <li>21- Is based on option 1 but all precincts at the same coding pass are sorted.
    <li>22- Is based on option 2 but all precincts at the same coding pass are sorted.
    <li>23- Is based on option 3 but all precincts at the same coding pass are sorted.
    <li>24- Is based on option 4 but all precincts at the same coding pass are sorted.
 </lu>
 Note: the sorting of precincts rearranges them in increasing length.</div>
</li>
</ul>
<a name="responseLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>responseLength</h4>
<pre>private&nbsp;long responseLength</pre>
<div class="block">It is a temporal attribute to accumulate the response length which is
 sending to the client.</div>
</li>
</ul>
<a name="discardLevels">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardLevels</h4>
<pre>private&nbsp;int discardLevels</pre>
</li>
</ul>
<a name="actualViewWindow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actualViewWindow</h4>
<pre>private&nbsp;<a href="../../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a> actualViewWindow</pre>
</li>
</ul>
<a name="tileObj">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tileObj</h4>
<pre>private&nbsp;<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/ServerJPEG2KTile.html" title="class in CADI.Server.LogicalTarget.JPEG2000">ServerJPEG2KTile</a> tileObj</pre>
</li>
</ul>
<a name="compObj">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compObj</h4>
<pre>private&nbsp;<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/ServerJPEG2KComponent.html" title="class in CADI.Server.LogicalTarget.JPEG2000">ServerJPEG2KComponent</a> compObj</pre>
</li>
</ul>
<a name="MSBPlane">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MSBPlane</h4>
<pre>private&nbsp;int MSBPlane</pre>
<div class="block">Definition in <code>CADI.Server.LogicalTarget.JPEG2000.JP2LogicalTarget#MSBPlane</code></div>
</li>
</ul>
<a name="maxNumLayers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxNumLayers</h4>
<pre>private&nbsp;int maxNumLayers</pre>
<div class="block">Definition in <a href="../../../../../CADI/Common/LogicalTarget/JPEG2000/Parameters/CODParameters.html#numLayers"><code>CODParameters.numLayers</code></a></div>
</li>
</ul>
<a name="layers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>layers</h4>
<pre>private&nbsp;int layers</pre>
</li>
</ul>
<a name="PACKET_PER_PRECINCT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PACKET_PER_PRECINCT</h4>
<pre>private static final&nbsp;int PACKET_PER_PRECINCT</pre>
<div class="block">This CPI tye delivery the image's window of interest building only one
 packet, i.e., all coding passes of a precinct are grouped in one packet.
 <p>
 It can be uses when the request belongs to a session or with stateless
 request.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#CADI.Server.LogicalTarget.JPEG2000.DeliveringModes.CPIDelivery.PACKET_PER_PRECINCT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PACKET_PER_BIT_PLANE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PACKET_PER_BIT_PLANE</h4>
<pre>private static final&nbsp;int PACKET_PER_BIT_PLANE</pre>
<div class="block">This CPI tye delivery the image's window of interest by bit planes.
 <p>
 Builds a packet for each bit-plane. So coding passes of different
 bit-planes are not grouped in the same packet.
 <p>
 It can be uses when the request belongs to a session or with stateless
 request.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#CADI.Server.LogicalTarget.JPEG2000.DeliveringModes.CPIDelivery.PACKET_PER_BIT_PLANE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PACKET_PER_CODING_PASS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PACKET_PER_CODING_PASS</h4>
<pre>private static final&nbsp;int PACKET_PER_CODING_PASS</pre>
<div class="block">This CPI type delivery the image's window of interest building a layer
 for each coding pass.
 <p>
 It is the worst approach because a packet is built for each coding pass,
 even when two or more coding passes of the same precinct are sent.
 <p>
 It can be uses when the request belongs to a session or with stateless
 request.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#CADI.Server.LogicalTarget.JPEG2000.DeliveringModes.CPIDelivery.PACKET_PER_CODING_PASS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="SCALE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SCALE</h4>
<pre>private static final&nbsp;int SCALE</pre>
<div class="block">This CPI type delivery the image's window of interest following the
 SCALE method:
 l = L - 1 - ((c div 3) * 2)- ((c mod 3) div 2)
 where:
 L = (K * 2) - 1
 K = number of bit-planes
 <p>
 It can be uses when the request belongs to a session or with stateless
 request.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#CADI.Server.LogicalTarget.JPEG2000.DeliveringModes.CPIDelivery.SCALE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="APPLY_SUBBAND_WEIGHTS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>APPLY_SUBBAND_WEIGHTS</h4>
<pre>private static&nbsp;boolean APPLY_SUBBAND_WEIGHTS</pre>
<div class="block">Indicates if a subband weight must be applied.
 <p>
 Further information, see <code>#getSubbandWeight(int, int, int)</code> method.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CPIDelivery(CADI.Server.LogicalTarget.JPEG2000.JP2KServerLogicalTarget, CADI.Server.Cache.ServerCacheModel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CPIDelivery</h4>
<pre>public&nbsp;CPIDelivery(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/JP2KServerLogicalTarget.html" title="class in CADI.Server.LogicalTarget.JPEG2000">JP2KServerLogicalTarget</a>&nbsp;logicalTarget,
           <a href="../../../../../CADI/Server/Cache/ServerCacheModel.html" title="class in CADI.Server.Cache">ServerCacheModel</a>&nbsp;serverCache)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logicalTarget</code> - </dd><dd><code>serverCache</code> - </dd></dl>
</li>
</ul>
<a name="CPIDelivery(CADI.Server.LogicalTarget.JPEG2000.JP2KServerLogicalTarget, CADI.Server.Cache.ServerCacheModel, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CPIDelivery</h4>
<pre>public&nbsp;CPIDelivery(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/JP2KServerLogicalTarget.html" title="class in CADI.Server.LogicalTarget.JPEG2000">JP2KServerLogicalTarget</a>&nbsp;logicalTarget,
           <a href="../../../../../CADI/Server/Cache/ServerCacheModel.html" title="class in CADI.Server.Cache">ServerCacheModel</a>&nbsp;serverCache,
           boolean&nbsp;align)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logicalTarget</code> - </dd><dd><code>serverCache</code> - </dd><dd><code>align</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setCPIType(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCPIType</h4>
<pre>public&nbsp;void&nbsp;setCPIType(int&nbsp;cpiType)</pre>
<div class="block">Set the subtype of the CPI.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cpiType</code> - definition in <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#cpiType"><code>cpiType</code></a></dd></dl>
</li>
</ul>
<a name="runResponseParameters(CADI.Common.Network.JPIP.ViewWindowField)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runResponseParameters</h4>
<pre>public&nbsp;void&nbsp;runResponseParameters(<a href="../../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a>&nbsp;viewWindow)
                           throws ErrorException</pre>
<div class="block">Calculates the WOI which will be sent to the client using a layers-based
 rate-distortion method (file is delivery in the same order that is is
 saved).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>viewWindow</code> - the requested Window Of Interest</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="runResponseData(java.util.ArrayList, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runResponseData</h4>
<pre>public&nbsp;void&nbsp;runResponseData(java.util.ArrayList&lt;<a href="../../../../../CADI/Server/Core/ResponseData.html" title="class in CADI.Server.Core">ResponseData</a>&gt;&nbsp;responseDataList,
                   long&nbsp;maximumResponseLength)
                     throws ErrorException</pre>
<div class="block">Gets the data of the response window of interes. This data is calculate
 using the CPI algorithm.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>httpResponseSender</code> - definition in <code>#httpResponseSender</code></dd><dd><code>jpipMessageEncoder</code> - definition in <code>#jpipMessageEncoder</code></dd><dd><code>jpipMessageHeaders</code> - definition in <code>#jpipMessageHeaders</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getMainHeader()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMainHeader</h4>
<pre>public&nbsp;byte[]&nbsp;getMainHeader()
                     throws ErrorException</pre>
<div class="block">Returns the main header.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#mainHeader"><code>mainHeader</code></a>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="getEORReasonCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEORReasonCode</h4>
<pre>public&nbsp;int&nbsp;getEORReasonCode()</pre>
<div class="block">Returns the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#EORReasonCode"><code>EORReasonCode</code></a> attribute.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#EORReasonCode"><code>EORReasonCode</code></a> attribute.</dd></dl>
</li>
</ul>
<a name="getResponseViewWindow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResponseViewWindow</h4>
<pre>public&nbsp;<a href="../../../../../CADI/Common/Network/JPIP/ViewWindowField.html" title="class in CADI.Common.Network.JPIP">ViewWindowField</a>&nbsp;getResponseViewWindow()</pre>
<div class="block">Returns the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#responseViewWindow"><code>responseViewWindow</code></a> attribute.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#responseViewWindow"><code>responseViewWindow</code></a> attribute.</dd></dl>
</li>
</ul>
<a name="getResponseData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResponseData</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../../CADI/Server/Core/ResponseData.html" title="class in CADI.Server.Core">ResponseData</a>&gt;&nbsp;getResponseData()</pre>
<div class="block">Returns the <code>#jpipMessageHeaders</code> attribute.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the <code>#jpipMessageHeaders</code> attribute.</dd></dl>
</li>
</ul>
<a name="getQuality()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQuality</h4>
<pre>public&nbsp;int&nbsp;getQuality()</pre>
<div class="block">Returns the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#quality"><code>quality</code></a> attribute.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#quality"><code>quality</code></a> attribute.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="list(java.io.PrintStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>list</h4>
<pre>public&nbsp;void&nbsp;list(java.io.PrintStream&nbsp;out)</pre>
<div class="block">Prints this CPI delivery out to the specified output stream.
 This method is useful for debugging.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - an output stream.</dd></dl>
</li>
</ul>
<a name="getMaxNumLayers(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxNumLayers</h4>
<pre>private&nbsp;int&nbsp;getMaxNumLayers(int&nbsp;cpiType)</pre>
<div class="block">Gets the maximum number of layers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cpiType</code> - definition in <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#cpiType"><code>cpiType</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>definition in <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#maxNumLayers"><code>maxNumLayers</code></a>.</dd></dl>
</li>
</ul>
<a name="encodeMainHeader()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encodeMainHeader</h4>
<pre>private&nbsp;void&nbsp;encodeMainHeader()
                       throws ErrorException</pre>
<div class="block">Gets the main header as a byte array. This method can be called if the
 transcoding is done.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="getSubbandWeight(int, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSubbandWeight</h4>
<pre>private&nbsp;int&nbsp;getSubbandWeight(int&nbsp;tile,
                   int&nbsp;z,
                   int&nbsp;rLevel,
                   int&nbsp;subband)</pre>
<div class="block">Returns the subband weight for a component, resolution level, and subband.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>z</code> - image component</dd><dd><code>rLevel</code> - 0 is the LL subband, and 1, 2, ... represents
        next starting with the little one</dd><dd><code>subband</code> - 0 - HL, 1 - LH, 2 - HH (if resolutionLevel == 0 --> 0 -
        LL)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the subband weight for a component, resolution
  level, and subband.</dd></dl>
</li>
</ul>
<a name="getMaxSubbandWeight()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxSubbandWeight</h4>
<pre>private&nbsp;int&nbsp;getMaxSubbandWeight()</pre>
<div class="block">Calculate which is the maximum subband weight for the whole image.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the maximum subband weight.</dd><dt><span class="strong">See Also:</span></dt><dd><code>method.</code></dd></dl>
</li>
</ul>
<a name="deliverOnePacketPerPrecinct()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deliverOnePacketPerPrecinct</h4>
<pre>private&nbsp;void&nbsp;deliverOnePacketPerPrecinct()
                                  throws ErrorException</pre>
<div class="block">This method is used to deliver the requested window of interes using
 only one packet per precinct. Therefore, the delivered image only has
 one quality layer.
 <p>
 The algorithm of this rate-distortion method is the most simple. But the
 coding performance achieved when the image is delivered with this
 algorithm is not the best one.
 <p>
 The coding performance is improved when delivered data are weigthed
 applying a weight to each subband of the tansformed image. Further
 information about suband weights, see the
 <code>#getRateDistortionAdjustment(int, int, int)</code> method.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="deliverOnePacketPerCodingPass()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deliverOnePacketPerCodingPass</h4>
<pre>private&nbsp;void&nbsp;deliverOnePacketPerCodingPass()
                                    throws ErrorException</pre>
<div class="block">This method is used to deliver the requested window of interes using
 only one packet per coding pass. Therefore, the delivered image has as
 layers as coding levels (3 * most significant bit-plane + 1).
 <p>
 This rate-distortion method is useful to delivery the image when the
 request does not belong to a session, so the server does not have any
 information about the client's cache status. In this case, a fixed image
 structure is needed because, sometimes, the client includes in its
 request (stateless) information about the status of its cache.
 <p>
 The algorithm of this rate-distortion method is very simple. But the
 coding performance achieved when the image is delivered with this
 algorithm is not the best one.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="getPacketHeaderOnePacketPerCodingPass(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int, int[][][][])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPacketHeaderOnePacketPerCodingPass</h4>
<pre>private&nbsp;byte[]&nbsp;getPacketHeaderOnePacketPerCodingPass(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeadersEncoder,
                                           long&nbsp;inClassIdentifier,
                                           int&nbsp;tile,
                                           int&nbsp;z,
                                           int&nbsp;rLevel,
                                           int&nbsp;realCodingLevel,
                                           int[][][][]&nbsp;codingPassesLengths)
                                              throws ErrorException</pre>
<div class="block">Builds a packet header for a specific coding level.
 <p>
 It is an auxiliary method used by <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#deliverOnePacketPerCodingPass()"><code>deliverOnePacketPerCodingPass()</code></a>
 method to build the packet headers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>z</code> - the image component</dd><dd><code>rLevel</code> - the resolution level in the component</dd><dd><code>precinct</code> - the precinct in the resolution level</dd><dd><code>codingLevel</code> - the coding level</dd><dd><code>codingPassesLengths</code> - a multiple array with the length of all coding
                                                passes that belong to the same precinct.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the packet header.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code> - if the packet header cannot be built because an
                                                        error has been found.</dd></dl>
</li>
</ul>
<a name="deliverOnePacketPerBitPlane()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deliverOnePacketPerBitPlane</h4>
<pre>private&nbsp;void&nbsp;deliverOnePacketPerBitPlane()
                                  throws ErrorException</pre>
<div class="block">This method is used to deliver the requested window of interes using
 only one packet per bit-plane. Therefore, the delivered image has as
 layers as coding levels (most significant bit-plane + 1).
 <p>
 This rate-distortion method is useful to delivery the image when the
 request does not belong to a session, so the server does not have any
 information about the client's cache status. In this case, a fixed image
 structure is needed because, sometimes, the client includes in its
 request (stateless) information about the status of its cache.
 <p>
 The algorithm of this rate-distortion method is the very simple. But the
 coding performance achieved when the image is delivered with this
 algorithm is not the best one.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="setFirstLayerOnePacketPerBitPlane(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int[][][][])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFirstLayerOnePacketPerBitPlane</h4>
<pre>private&nbsp;void&nbsp;setFirstLayerOnePacketPerBitPlane(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeading,
                                     long&nbsp;inClassIdentifier,
                                     int&nbsp;tile,
                                     int&nbsp;z,
                                     int&nbsp;rLevel,
                                     int[][][][]&nbsp;codingPassesLengths)
                                        throws ErrorException</pre>
<div class="block">This method adjusts the first layer when requested window of interest is
 delivered using one packet per bit plane.
 The criterion followed to adjust the first layer is:
        the block(s) belonging to this precinct which has the maximum number
        of coding passes, its first layer is set to 0. And the</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>packetHeading</code> - </dd><dd><code>inClassIdentifier</code> - </dd><dd><code>z</code> - </dd><dd><code>rLevel</code> - </dd><dd><code>int[][][][]</code> - codingPassesLengths</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="getPacketHeaderOnePacketPerBitPlane(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int, int, int[][][][])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPacketHeaderOnePacketPerBitPlane</h4>
<pre>private&nbsp;byte[]&nbsp;getPacketHeaderOnePacketPerBitPlane(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeading,
                                         long&nbsp;inClassIdentifier,
                                         int&nbsp;tile,
                                         int&nbsp;z,
                                         int&nbsp;rLevel,
                                         int&nbsp;virtualBitPlane,
                                         int&nbsp;totalNumVirtualBitPlanes,
                                         int[][][][]&nbsp;codingPassesLengths)
                                            throws ErrorException</pre>
<div class="block">Builds a packet header using one packet per bit plane
 <p>
 It is an auxiliary method used by <code>#getResponseOnePacketPerBitPlane()</code>
 method to build the packet headers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>packetHeading</code> - the packet heading object used to build the header.</dd><dd><code>inClassIdentifier</code> - </dd><dd><code>z</code> - the image component.</dd><dd><code>rLevel</code> - the resolution level in the component.</dd><dd><code>virtualBitPlane</code> - </dd><dd><code>totalNumVirtualBitPlanes</code> - </dd><dd><code>codingPasses</code> - a multiple array with the length of all coding
                                                passes belonging to the precinct.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the encoded packet header.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code> - if the packet header cannot be built because an
                                                        error has been found.</dd></dl>
</li>
</ul>
<a name="deliverScale()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deliverScale</h4>
<pre>private&nbsp;void&nbsp;deliverScale()
                   throws ErrorException</pre>
<div class="block">This method is used to delivery the requested window of interes using
 SCALE method. Therefore, the coding passes of the delivered image are
 allocated in the layers following the SCALE method:
 l = L - 1 - ((c div 3) * 2) - ((c mod 3) div 2)
 where:
 L = (K * 2) - 1
 K = number of bit-planes
 <p>
 This rate-distortion method is useful to delivery the image when the
 request does not belong to a session, so the server does not have any
 information about the client's cache status. In this case, a fixed image
 structure is needed because, sometimes, the client includes in its
 request (stateless) information about the status of its cache.
 <p>
 NOTE: Although the subband weight function is the number of coding passes
 to be upshifted, this value is mapped to bit planes (multipling by 3)
 in order to keep the coherence and allow the MRP and CP may be joined.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="getNextCodingLevel(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextCodingLevel</h4>
<pre>private&nbsp;int&nbsp;getNextCodingLevel(int&nbsp;codingLevel)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>codingLevel</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getLayer(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLayer</h4>
<pre>private&nbsp;int&nbsp;getLayer(int&nbsp;codingLevel)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>codingLevel</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="isMRP(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMRP</h4>
<pre>private&nbsp;boolean&nbsp;isMRP(int&nbsp;codingLevel)</pre>
<div class="block">Check whether a coding level is or not a MRP pass.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>codingLevel</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="setFirstLayerScale(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int[][][][], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFirstLayerScale</h4>
<pre>private&nbsp;void&nbsp;setFirstLayerScale(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeading,
                      long&nbsp;inClassIdentifier,
                      int&nbsp;tile,
                      int&nbsp;z,
                      int&nbsp;rLevel,
                      int[][][][]&nbsp;codingPassesLengths,
                      int&nbsp;totalNumVirtualCodingLevels)
                         throws ErrorException</pre>
<div class="block">This method adjusts the first layer when requested window of interest is
 delivered using the SCALE method.
 The criterion followed to adjust the first layer is:
        the block(s) belonging to this precinct which has the maximum number
        of coding passes, its first layer is set to 0......</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>packetHeading</code> - </dd><dd><code>inClassIdentifier</code> - </dd><dd><code>z</code> - </dd><dd><code>rLevel</code> - </dd><dd><code>codingPassesLengths</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code></dd></dl>
</li>
</ul>
<a name="getPacketHeaderScale(CADI.Server.LogicalTarget.JPEG2000.Codestream.PacketHeadersEncoder, long, int, int, int, int, int, int[][][][])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPacketHeaderScale</h4>
<pre>private&nbsp;byte[]&nbsp;getPacketHeaderScale(<a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/Codestream/PacketHeadersEncoder.html" title="class in CADI.Server.LogicalTarget.JPEG2000.Codestream">PacketHeadersEncoder</a>&nbsp;packetHeading,
                          long&nbsp;inClassIdentifier,
                          int&nbsp;tile,
                          int&nbsp;z,
                          int&nbsp;rLevel,
                          int&nbsp;totalNumVirtualCodingLevels,
                          int&nbsp;virtualCodingLevel,
                          int[][][][]&nbsp;codingPassesLengths)
                             throws ErrorException</pre>
<div class="block">Builds a packet header for a specific coding level.
 <p>
 It is an auxiliary method used by <code>#getResponseOnePacketPerCodingPass()</code>
 method to build the packet headers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>packetHeading</code> - the packet heading object used to build the header.</dd><dd><code>z</code> - the image component.</dd><dd><code>rLevel</code> - the resolution level in the component.</dd><dd><code>precinct</code> - the precinct in the resolution level</dd><dd><code>initialCodingPass</code> - the first coding pass of the packet.</dd><dd><code>numOfCodingPasses</code> - the number of coding passes of the packet.</dd><dd><code>codingPasses</code> - a multiple array with the length of all coding
                                                passes belonging to the precinct.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the encoded packet header.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ErrorException</code> - if the packet header cannot be built because an
                                                        error has been found.</dd></dl>
</li>
</ul>
<a name="skipPrecinctScale(long, int, int, int, int, int, int[][][][])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipPrecinctScale</h4>
<pre>private&nbsp;boolean&nbsp;skipPrecinctScale(long&nbsp;inClassIdentifier,
                        int&nbsp;tile,
                        int&nbsp;z,
                        int&nbsp;rLevel,
                        int&nbsp;totalNumVirtualCodingLevels,
                        int&nbsp;virtualCodingLevel,
                        int[][][][]&nbsp;codingPassesLengths)</pre>
<div class="block">Check if a precinct has to be, or not, included in a fixed coding level.
 <p>
 This method is only used by the <a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html#deliverScale()"><code>deliverScale()</code></a> method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>inClassIdentifier</code> - </dd><dd><code>z</code> - </dd><dd><code>rLevel</code> - </dd><dd><code>totalNumVirtualCodingLevels</code> - </dd><dd><code>virtualCodingLevel</code> - </dd><dd><code>codingPassesLengths</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="printTypeOfCodingPass(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printTypeOfCodingPass</h4>
<pre>private&nbsp;void&nbsp;printTypeOfCodingPass(int&nbsp;codingLevel)</pre>
<div class="block">Useful to print which is the type of each coding level. Only for debugging purposes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>codingLevel</code> - </dd></dl>
</li>
</ul>
<a name="printByteArray(byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>printByteArray</h4>
<pre>private static&nbsp;void&nbsp;printByteArray(byte[]&nbsp;buffer)</pre>
<div class="block">Useful method for printing a byte array. Only for debugging purposes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buffer</code> - the byte array to be printed.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CoRDDelivery.html" title="class in CADI.Server.LogicalTarget.JPEG2000.DeliveringModes"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/FileOrderDelivery.html" title="class in CADI.Server.LogicalTarget.JPEG2000.DeliveringModes"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?CADI/Server/LogicalTarget/JPEG2000/DeliveringModes/CPIDelivery.html" target="_top">Frames</a></li>
<li><a href="CPIDelivery.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
				
					<i>CADI - Copyright (C) 2007</i><br>
					This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.<br>
					This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License</a> for more details.<br><br>
					<a href="http://www.gici.uab.es">Group on Interactive Coding of Images (GICI)</a> (<a href="mailto:gici-info@abra.uab.es">contact</a>)
				
			</small></p>
</body>
</html>
